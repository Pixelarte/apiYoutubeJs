function init() {
    console.log("followMe @PixelarteCl"), Youtube = new classApiYoutube({
        id: "895438985752-u3ncu8isbo7r4udupdm523bblec4r2m5.apps.googleusercontent.com",
        scope: [ "https://www.googleapis.com/auth/youtube", "https://www.googleapis.com/auth/youtube.force-ssl", "https://www.googleapis.com/auth/youtube.readonly", "https://www.googleapis.com/auth/youtube.upload", "https://www.googleapis.com/auth/youtubepartner", "https://www.googleapis.com/auth/youtubepartner-channel-audit", "https://www.googleapis.com/auth/userinfo.profile" ]
    }), Youtube.addEventlistener("initButtonConnectYoutube", initButtonConnectYoutube), 
    Youtube.addEventlistener("accessDeniedYoutube", accessDeniedYoutube), Youtube.addEventlistener("EventConnectYoutube", initConnectYoutube);
}

function googleApiClientReady() {
    gapi.auth.init(function() {
        window.setTimeout(Youtube.checkAuth, 1);
    });
}

function initButtonConnectYoutube() {
    $("#connect").show(), $("#connectYoutube").click(function() {
        $("#connect").hide(), Youtube.initConnectYoutube();
    });
}

function accessDeniedYoutube() {
    $("#denied").show(), $("#reload").click(function() {
        location.reload();
    });
}

function initCerrarSesion() {
    $("#sesion").show(), $("#logOut").click(function() {
        $.ajax({
            type: "GET",
            url: "https://accounts.google.com/o/oauth2/revoke?token=" + Youtube.tokenApiYoutube,
            async: !1,
            contentType: "application/json",
            dataType: "jsonp",
            success: function(a) {
                location.reload();
            },
            error: function(a) {}
        });
    });
}

function initConnectYoutube() {
    initDatosUsuario(), initCerrarSesion(), initListaVideos();
}

function initDatosUsuario() {
    $("#datos").show(), $("#imagen").attr("src", Youtube.dataUserYoutube.picture), $("#id").html("id: " + Youtube.dataUserYoutube.id), 
    $("#nombre").html("nombre: " + Youtube.dataUserYoutube.name), $("#correo").html("correo: " + Youtube.dataUserYoutube.email), 
    $("#token").html("access token: " + Youtube.tokenApiYoutube);
}

function initListaVideos() {
    function a(a) {
        $("#videoContainer").show(), a ? ($("#totalVideos").html("total de videos :" + Youtube.playlist.pageInfo.totalResults), 
        Youtube.initPlayer("player", "480", "320", 1, 0), Youtube.addEventlistener("readyPlayerVideoYoutube", f), 
        Youtube.addEventlistener("changePlayerVideoYoutube", g), Youtube.VideosList(maxResultsVideos), 
        Youtube.addEventlistener("initVideosList", b)) : $("#totalVideos").html("total de videos :" + Youtube.playlist.pageInfo.totalResults);
    }
    function b() {
        try {
            $("#next").unbind("click", d), $("#prev").unbind("click", e);
        } catch (a) {}
        $.each(Youtube.playlist.items, function(a, b) {
            var d = b.snippet.title, e = b.snippet.resourceId.videoId, f = b.snippet.thumbnails["default"].url;
            $("#videos").append('<p><img id="' + e + '" src="' + f + '"></p><p><a target="_blank" href="https://www.youtube.com/watch?v=' + e + '">' + d + "</a></p>"), 
            $("#" + e).bind("click", c);
        }), Youtube.playlist.nextPageToken ? ($("#next").show(), $("#next").bind("click", d)) : $("#next").hide(), 
        Youtube.playlist.prevPageToken ? ($("#prev").show(), $("#prev").bind("click", e)) : $("#prev").hide();
    }
    function c(a) {
        $("#playerContainer").show();
        var b = {
            videoId: a.currentTarget.id
        };
        Youtube.play(b);
    }
    function d() {
        $("#videos").html(""), Youtube.VideosList(maxResultsVideos, Youtube.playlist.nextPageToken);
    }
    function e() {
        $("#videos").html(""), Youtube.VideosList(maxResultsVideos, Youtube.playlist.prevPageToken);
    }
    function f() {
        $("#btnStop").on("click", function(a) {
            a.preventDefault(), Youtube.player.stopVideo();
        }), $("#btnPause").on("click", function(a) {
            a.preventDefault(), Youtube.player.pauseVideo();
        }), $("#btnPlay").on("click", function(a) {
            a.preventDefault(), Youtube.player.playVideo();
        });
    }
    function g() {
        console.log("change");
    }
    function h() {
        $("#videoContainer").html("ocurrio un error al consultar a la api de youtube, vuelve a intentarlo algun dia de este a√±o.");
    }
    $("#listaVideo").click(function() {
        $("#listaVideo").hide(), Youtube.VideosResponse(), Youtube.addEventlistener("errorListVideoYoutube", h), 
        Youtube.addEventlistener("initContainerVideos", a);
    });
}

var Youtube, maxResultsVideos = 2;

window.onload = init;