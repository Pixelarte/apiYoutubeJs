function init() {
    console.log("followMe @PixelarteCl"), Youtube = new classApiYoutube({
        id: "895438985752-u3ncu8isbo7r4udupdm523bblec4r2m5.apps.googleusercontent.com",
        scope: [ "https://www.googleapis.com/auth/youtube", "https://www.googleapis.com/auth/youtube.force-ssl", "https://www.googleapis.com/auth/youtube.readonly", "https://www.googleapis.com/auth/youtube.upload", "https://www.googleapis.com/auth/youtubepartner", "https://www.googleapis.com/auth/youtubepartner-channel-audit", "https://www.googleapis.com/auth/userinfo.profile" ]
    }), Youtube.addEventlistener("initButtonConnectYoutube", initButtonConnectYoutube), 
    Youtube.addEventlistener("accessDeniedYoutube", accessDeniedYoutube), Youtube.addEventlistener("EventConnectYoutube", initConnectYoutube);
}

function googleApiClientReady() {
    gapi.auth.init(function() {
        window.setTimeout(Youtube.checkAuth, 1);
    });
}

function initButtonConnectYoutube() {
    $("#connect").show(), $("#connectYoutube").click(function() {
        $("#connect").hide(), Youtube.initConnectYoutube();
    });
}

function accessDeniedYoutube() {
    $("#denied").show(), $("#reload").click(function() {
        location.reload();
    });
}

function initCerrarSesion() {
    $("#sesion").show(), $("#logOut").click(function() {
        $.ajax({
            type: "GET",
            url: "https://accounts.google.com/o/oauth2/revoke?token=" + Youtube.tokenApiYoutube,
            async: !1,
            contentType: "application/json",
            dataType: "jsonp",
            success: function(a) {
                location.reload();
            },
            error: function(a) {}
        });
    });
}

function initConnectYoutube() {
    initDatosUsuario(), initCerrarSesion(), initListaVideos();
}

function initDatosUsuario() {
    $("#datos").show(), $("#imagen").attr("src", Youtube.dataUserYoutube.picture), $("#id").html("id: " + Youtube.dataUserYoutube.id), 
    $("#nombre").html("nombre: " + Youtube.dataUserYoutube.name), $("#correo").html("correo: " + Youtube.dataUserYoutube.email), 
    $("#token").html("access token: " + Youtube.tokenApiYoutube);
}

function initListaVideos() {
    function a() {
        try {
            $("#next").unbind("click", b), $("#prev").unbind("click", c);
        } catch (a) {}
        $("#totalVideos").html("total de videos :" + Youtube.playlist.pageInfo.totalResults), 
        $("#videoContainer").show(), $.each(Youtube.playlist.items, function(a, b) {
            var c = b.snippet.title, d = b.snippet.resourceId.videoId, e = b.snippet.thumbnails["default"].url;
            $("#videos").append('<p><img id="imagen" src="' + e + '"></p><p><a target="_blank" href="https://www.youtube.com/watch?v=' + d + '">' + c + "</a></p>");
        }), Youtube.playlist.nextPageToken ? ($("#next").show(), $("#next").bind("click", b)) : $("#next").hide(), 
        Youtube.playlist.prevPageToken ? ($("#prev").show(), $("#prev").bind("click", c)) : $("#prev").hide();
    }
    function b() {
        $("#videos").html(""), Youtube.channelsList(2, Youtube.playlist.nextPageToken);
    }
    function c() {
        $("#videos").html(""), Youtube.channelsList(2, Youtube.playlist.prevPageToken);
    }
    function d() {
        $("#videoContainer").html("no tienes videos subidos a tu canal");
    }
    $("#listaVideo").click(function() {
        $("#listaVideo").hide(), Youtube.channelsList(2), Youtube.addEventlistener("listVideoYoutube", a), 
        Youtube.addEventlistener("errorListVideoYoutube", d);
    });
}

var Youtube;

window.onload = init;